<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">

<link href="bb.css" rel="stylesheet" type="text/css">
<link rel="apple-touch-icon" href="icones/const_517x517.png"/>
<script src="http://code.jquery.com/jquery-1.8.2.min.js" type="text/javascript"></script>
<script src="http://code.angularjs.org/angular-1.0.1.min.js"></script>

<style>
progress {
  width:25em;
}

span.nom {width:12em;display:inline-block;}

span.inspPrevues, span.inspDelta {width:4em;display:inline-block;text-align: right;}

span[value^="-"] {color:red;}

</style>

<script>
function DataCtrl($scope) 
{
	$.ajax(
			{
				url: 'http://10.9.36.204:8080/backapp/inspection/suivi',
				// isLocal: false, 
				async: false,
				dataType: 'json',
				crossDomain: true,
				success: function (i) 
				{
				$scope.stats = i;
				},
				error: function (jqXHR,textStatus,errorThrown) 
				{
					console.log("fail ",jqXHR);
					console.log("status ",textStatus);
					console.log("err ",errorThrown);
				}
	  		} // fin argument ajax
	  	);//Fin Ajax
}//Fin DataCtrl
</script>

</head>
<body>

<div class='header'><h1>Accueil</h1></div>
<p>Application mobile de d√©monstration</p>

<div ng-app>
  <div ng-controller="DataCtrl">
    <ul class="unstyled">
      <li ng-repeat="stat in stats">
       <span class=nom> {{stat.nom}}</span>
        <progress max={{stat.inspPrevues}} value={{stat.inspPrevues+stat.inspDelta}} ></progress>
        <span class=inspPrevues> {{stat.inspPrevues}}</span>
        <span class=inspDelta value={{stat.inspDelta}}> {{stat.inspDelta}}</span>
      </li>
    </ul>
  </div>
</div>

</body>
</html>